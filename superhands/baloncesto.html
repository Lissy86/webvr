<head>
  <title>Baloncesto</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
  <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
  <script src="js/aframe-animation-timeline-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.1.0/dist/aframe-physics-system.js"></script>

<body>
  <a-scene physics="">
    <a-assets>
      <img id="ground" src="/cancha.webp">
      <img id="ball" src="/pelota-baloncesto.avif">
    </a-assets>
    <a-assets>
      <a-mixin id="all-interactions"
                 hoverable grabbable stretchable draggable
                 event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
                 event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                 dynamic-body
        ></a-mixin>

        <a-mixin id="grab-move"
                 hoverable grabbable draggable
                 event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
                 event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                 dynamic-body
        ></a-mixin>

        <a-mixin id="physics-hands"
                 physics-collider phase-shift
                 collision-filter="collisionForces: false"
                 static-body="shape: sphere; sphereRadius: 0.02"
                 super-hands="colliderEvent: collisions;
                              colliderEventProperty: els;
                              colliderEndEvent: collisions;
                              colliderEndEventProperty: clearedEls;"
        ></a-mixin>
        
    </a-assets>
    <a-entity>
      <a-camera></a-camera>
      <a-entity static-body="shape: sphere; sphereRadius: 0.02;" sphere-collider="objects: a-entity" super-hands hand-controls="hand: left"></a-entity>
      <a-entity static-body="shape: sphere; sphereRadius: 0.02;" sphere-collider="objects: a-entity" super-hands hand-controls="hand: right"></a-entity>
    </a-entity>
    <!-- <a-entity id="rhand" mixin="physics-hands"
                  hand-controls="hand: right">
        </a-entity>
        <a-entity id="lhand" mixin="physics-hands"
                  hand-controls="hand: left">
        </a-entity> -->
    <a-torus radius="1" radius-tubular="0.05" position="0 3 -8" rotation="-90 0 0" color="#751212" material="src: #grid; repeat: 16 8;" shadow="cast: true; receive: true" 
    animation__rotate="property: rotation; dur: 8000; easing: linear; dir: normal; from:-90 -20 0; to: -90 -20 360; loop: true" geometry="">
    </a-torus>
    <!-- <a-sphere dynamic-body hoverable grabbable draggable droppable position="5 2 -2" radius="0.5" material="src:#ball;" geometry="" velocity=""></a-sphere> -->
    <a-entity class="cube" mixin="cube" position="5 2 -2" material="src:#ball;" geometry="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" event-set__hoveron="" event-set__hoveroff="" velocity="" body="" shape="" shadow="" transparent="false"></a-entity>
    <a-plane static-body src="#ground"  position="0 0 0" width="20" height="20" rotation="-90 90 0"></a-plane>
  </a-scene>
  <script>
    AFRAME.registerComponent('phase-shift', {
        init: function () {
          var el = this.el
          el.addEventListener('gripdown', function () {
            el.setAttribute('collision-filter', {collisionForces: true})
          })
          el.addEventListener('gripup', function () {
            el.setAttribute('collision-filter', {collisionForces: false})
          })
        }
      });
  </script>
</body>